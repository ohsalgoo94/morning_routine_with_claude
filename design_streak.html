import { useState } from 'react';
import { Button } from './ui/button';
import { Sparkles } from 'lucide-react';

export function StreakCounter() {
  const [streak, setStreak] = useState(7);

  const handleSuccess = () => {
    setStreak(streak + 1);
  };

  const handleReset = () => {
    setStreak(0);
  };

  return (
    <div className="w-full max-w-sm bg-gradient-to-br from-[#FAF5F0] to-[#F5EDE3] rounded-3xl p-8 shadow-lg">
      <div className="text-center space-y-6">
        <h2 className="text-[#2B4336] opacity-80">üî• Ïó∞ÏÜç ÏÑ±Í≥µ</h2>
        
        {/* Streak Circle */}
        <div className="relative flex items-center justify-center">
          <div className="absolute inset-0 flex items-center justify-center">
            <div className="w-40 h-40 bg-[#2B4336] opacity-5 rounded-full blur-2xl"></div>
          </div>
          <div className="relative w-44 h-44 rounded-full bg-gradient-to-br from-white to-[#F5EDE3] shadow-xl flex items-center justify-center border-8 border-[#2B4336] border-opacity-20">
            <div className="absolute inset-4 rounded-full bg-gradient-to-br from-[#2B4336] to-[#3d5d4a] shadow-inner flex flex-col items-center justify-center">
              <span className="text-6xl text-[#FAF5F0]">{streak}</span>
              <span className="text-xs text-[#FAF5F0] opacity-70 mt-1">Ïùº</span>
            </div>
          </div>
          {streak > 0 && (
            <Sparkles className="absolute -top-2 -right-2 w-8 h-8 text-[#2B4336] opacity-60 animate-pulse" />
          )}
        </div>

        {/* Decorative elements */}
        <div className="flex justify-center gap-2 opacity-40">
          <div className="w-2 h-2 rounded-full bg-[#2B4336]"></div>
          <div className="w-2 h-2 rounded-full bg-[#2B4336]"></div>
          <div className="w-2 h-2 rounded-full bg-[#2B4336]"></div>
        </div>

        {/* Buttons */}
        <div className="flex gap-3 pt-2">
          <Button 
            onClick={handleSuccess}
            className="flex-1 bg-[#2B4336] hover:bg-[#3d5d4a] text-[#FAF5F0] rounded-full shadow-md transition-all hover:shadow-lg hover:scale-105"
          >
            ‚ú® ÏÑ±Í≥µ
          </Button>
          <Button 
            onClick={handleReset}
            variant="outline"
            className="flex-1 border-2 border-[#2B4336] text-[#2B4336] bg-white hover:bg-[#2B4336] hover:text-white rounded-full shadow-md transition-all hover:shadow-lg"
          >
            Ï¥àÍ∏∞Ìôî
          </Button>
        </div>
      </div>
    </div>
  );
}
